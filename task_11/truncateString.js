function truncateString(str, limit) {
    if (str.length <= limit) {
        return str; // Если строка короче лимита, возвращаем её без изменений
    }

    // Ищем последний пробел или знак препинания перед лимитом
    // Если не нашли подходящего места для обрезки, обрезаем по лимиту
    const punctuation = [".", ",", "!", "?", ":", ";", " "];
    let lastValidIndex = limit;

    for (let i = limit; i >= 0; i--) {
        if (punctuation.includes(str[i])) {
            lastValidIndex = i;
            break;
        }
    }

    // Обрезаем строку и добавляем троеточие
    return str.slice(0, lastValidIndex) + "…";
}

// Примеры использования:
console.log(truncateString("Это очень длинная строка, которая не помещается в интерфейсе.", 40));
// Вывод: "Это очень длинная строка, которая…"

console.log(truncateString("Короткая строка", 20));
// Вывод: "Короткая строка"

console.log(truncateString("Это строка с несколькими знаками препинания! Но она слишком длинная.", 50));
// Вывод: "Это строка с несколькими знаками препинания! Но…"

console.log(truncateString("СтрокаБезПробеловИЗнаковПрепинания", 10));
// Вывод: "СтрокаБез…" (обрезается по лимиту, если нет подходящего места)